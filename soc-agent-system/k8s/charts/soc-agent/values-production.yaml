# Production overrides for soc-agent.
# Usage: helm install soc-agent ./charts/soc-agent -f values-production.yaml

backend:
  replicaCount: 4
  image:
    repository: gcr.io/my-project/soc-backend
    pullPolicy: Always  # Pull from registry
  resources:
    requests:
      cpu: 500m
      memory: 1Gi
    limits:
      cpu: "2"
      memory: 2Gi
  hpa:
    maxReplicas: 20
    targetCPUUtilizationPercentage: 60
  env:
    LOG_LEVEL: "WARNING"

frontend:
  image:
    repository: gcr.io/my-project/soc-frontend
    pullPolicy: Always

redis:
  persistence:
    enabled: true

ingress:
  annotations:
    cert-manager.io/cluster-issuer: "letsencrypt-prod"
  hosts:
    - host: soc.example.com
      paths:
        - path: /
          pathType: Prefix
          backend: frontend
        - path: /api
          pathType: Prefix
          backend: backend
        - path: /ws
          pathType: Prefix
          backend: backend
  tls:
    - secretName: soc-agent-tls
      hosts:
        - soc.example.com

